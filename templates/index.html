{% extends "base.html" %}

{% block content %}
    {% if messages %}
        <div
            id="message-box" 
            class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white p-3 rounded shadow-lg"
        >
            {% for message in messages %}
                <p>{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <div id="modal" class="hidden fixed z-[1] left-0 top-0 w-full h-full overflow-auto bg-[rgba(0,0,0,0.4)]">
        <div class="modal-content bg-slate-800 max-w-md w-full text-white rounded-md mt-[15%] mx-auto px-5 py-">
            <div class="flex justify-between items-center pt-2">
                <h1 class="text-lg font-semibold">Create a post</h1>
                <button>
                    <span class="close-btn text-[#aaa] float-right font-bold text-xl cursor-pointer">&times;</span>
                </button>
            </div>
            

            <form 
                class="flex flex-col pt-3" 
                enctype="multipart/form-data"
                action={% url 'core:post' %}
                method="post"
            >
                {% csrf_token %}
                <label class="block mb-2 text-lg text-white" for="post-image">Upload image</label>
                <input 
                    id="post-image"
                    name='post_image'
                    placeholder="image" 
                    class="rounded-md block w-full text-sm cursor-pointer bg-slate-700"
                    type="file"
                />
                <label class="block text-lg text-white mt-2 mb-2" for="caption">caption</label>
                <textarea name="caption" id="caption" placeholder="What is happening?!"
                    class="block px-1 w-full text-lg text-white bg-slate-800 border-2 rounded-md border-slate-600 outline-none"
                    aria-multiline="true"
                ></textarea>
                <div class="flex justify-center py-2 pb-3">
                    <button type="submit" class="py-2 bg-slate-700 w-[100%] rounded-md text-white">Post</button>
                </div>
                
            </form>
        </div>
    </div>

    <section class="bg-gray-300 h-screen">
        <div class='flex flex-col  md:flex-row md:space-x-4'>
            <div class='border-r border-gray-200 w-full mt-2'>
                <div class="post-card flex mx-3 py-2 px-2 m-2 rounded-md border-b">
                    <div class='flex space-x-2'>
                        <a href="#" class=''>
                            <img 
                                src='./static/images/pic.jpeg'
                                class='rounded-full h-10 w-10'
                                alt=""
                            />
                        </a>

                        <div class='content-section mt-2'>
                            <h4>username</h4>
                            <p>my first post on X</p>
                            <img 
                                src='./static/images/pic.jpeg'
                                class='object-cover w-full rounded-lg h-64 md:h-96 md:w-auto md:rounded-s-lg'
                                alt=""
                            />

                            <div class='footer'>

                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>

            <div class='border-2 bg-gray-500 text-white w-[500px] mt-2 rounded-lg h-full flex flex-col justify-center px-3 py-2 md:mr-2'>
                <h2 class="text-lg font-bold">Who to follow</h2>
                <div class="flex justify-between items-center border-b border-gray-400 py-1">
                    <div class="flex items-center space-x-1">
                        <img src="static/images/pic.jpeg" alt="" class="h-10 w-10 rounded-full">
                        <a href="">username</a>
                    </div>

                    <form>
                        <button type="submit" class="bg-slate-800 text-white px-4 py-1 rounded-lg">Follow</button>
                    </form>
                </div>

                <div class="flex justify-between items-center border-b border-gray-400 py-1">
                    <div class="flex items-center space-x-1">
                        <img src="static/images/pic.jpeg" alt="" class="h-10 w-10 rounded-full">
                        <a href="">username</a>
                    </div>
                
                    <form>
                        <button type="submit" class="bg-slate-800 text-white px-4 py-1 rounded-lg">Follow</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
{% endblock content %}
